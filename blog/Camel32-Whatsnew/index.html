<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../apple-touch-icon-57x57.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../apple-touch-icon-114x114.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../apple-touch-icon-72x72.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../apple-touch-icon-144x144.png"> <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../apple-touch-icon-60x60.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../apple-touch-icon-120x120.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../apple-touch-icon-76x76.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../apple-touch-icon-152x152.png"> <link rel="icon" type="image/png" href="../../favicon-196x196.png" sizes="196x196"> <link rel="icon" type="image/png" href="../../favicon-96x96.png" sizes="96x96"> <link rel="icon" type="image/png" href="../../favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="../../favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="../../favicon-128.png" sizes="128x128"> <meta name="application-name" content="Apache Camel"> <link rel="manifest" href="../../site.webmanifest"> <title>Apache Camel 3.2 What&#39;s New - Apache Camel</title> <link rel="canonical" href="../../blog/Camel32-Whatsnew/"> <link rel="stylesheet" href="../../_/css/site-73dea747cc.css"> </head> <body class="article"> <header class="header"> <nav class="navbar"> <div class="navbar-brand"> <a class="nav-logo" href="../../" title="Apache Camel"></a> <div id="topbar-nav" class="navbar-menu"> <div class="navbar-end"> <a class="navbar-item navbar-topics" href="../../blog/">Blog</a> <a class="navbar-item navbar-topics" href="../../projects/">Projects</a> <a class="navbar-item navbar-topics" href="../../docs/">Documentation</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link navbar-topics" href="#">Community</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../community/support/">Support</a> <a class="navbar-item" href="../../manual/latest/contributing.html">Contributing</a> <a class="navbar-item" href="../../community/user-stories/">User stories</a> <a class="navbar-item" href="../../community/articles/">Articles</a> <a class="navbar-item" href="../../community/books/">Books</a> <a class="navbar-item" href="../../community/team/">Team</a> </div> </div> <a class="navbar-item navbar-topics" href="../../download/">Download</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link navbar-topics" href="#">About</a> <div class="navbar-dropdown"> <a class="navbar-item" href="https://www.apache.org/events/current-event.html">Apache events</a> <a class="navbar-item" href="https://www.apache.org/licenses/">License</a> <a class="navbar-item" href="../../security/">Security</a> <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a> <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a> </div> </div> </div> </div> <div class="navbar-fill"></div> <div class="navbar-search results-hidden"> <input id="search" class="search" placeholder="Search" autocomplete="off"> <img src="/_/img/cancel.svg" alt="Clear" id="search-cancel"> <div id="search_results"></div> </div> <div id="social-media" class="navbar-tools"> <a rel="noopener noreferrer nofollow" href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg class="brand-icon"><use href="../../_/img/brand-logos.svg#github"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://gitter.im/apache/apache-camel" title="Chat on Gitter"><svg class="brand-icon"><use href="../../_/img/brand-logos.svg#gitter"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg class="brand-icon"><use href="../../_/img/brand-logos.svg#twitter"/></svg></a> </div> <button class="navbar-burger" data-target="topbar-nav" type="button"> <span></span> <span></span> <span></span> </button> </div> </nav> </header> <div class="body"> <main role="main blog"> <article class="blog doc"> <header> <a class="category" href="../../categories/Releases/">RELEASES</a> <h1>Apache Camel 3.2 What&#39;s New</h1> </header> <div class="post"> <aside> <div class="summary">Details of what we have done in the Camel 3.2 release.</div> Posted on <time itemprop="published" datetime="2020-04-09" title="Thursday, April 9, 2020">April 9, 2020</time>, by <figure> <img src="https://avatars1.githubusercontent.com/u/477100?v=4" alt="Claus Ibsen"> <figcaption rel="author">Claus Ibsen</figcaption> </figure> <p> <a class="arrow prev" href="../../blog/release-3-2-0.html" title="Previous post: RELEASE 3.2.0">&#10094;</a> <a class="arrow next" href="../../blog/100Camels/" title="Next post: How to quickly run 100 Camels with Apache Camel, Quarkus and GraalVM">&#10095;</a> </p> </aside> <div class="post-content"> <img class="featured" alt="Blog post featured image" src="../../blog/Camel32-Whatsnew/featured_huf2bdf16696bdc15f060e09e9ed316c94_3975989_800x0_resize_q95_gaussian_2.png" width="800" height="531"> <p>A few days ago Apache Camel 3.2 was released. This is a continuation of the work we are doing on Camel leading up to the first long term support release (LTS) that would be either Camel 3.3 or 3.4.</p> <p>In case you have missed this, the release model in Camel 3.x is following the principe of LTS and non-LTS releases (like Java JDKs). For more details see this <a href="https://camel.apache.org/blog/LTS-Release-Schedule/" rel="nofollow noreferrer">blog post</a>.</p> <p>What this means is that we will not do patch releases for Camel 3.2.x, but move ahead for Camel 3.3.</p> <h3 id="so-whats-in-this-release">So whats in this release?</h3> <p>We continued our work on making camel core smaller and faster. We managed to modularize the core a bit more. For example JAXB is now 99% separated and only in use when needed (XML). We missed one piece so its 99% and not 100%, but we have corrected this for Camel 3.3.0.</p> <p>There is also a lighter XML route loader that does not use JAXB and is much faster and lighter. See this <a href="http://www.davsclaus.com/2020/03/apache-camel-31-fast-loading-of-xml.html" rel="nofollow noreferrer">external blog post</a> for more details.</p> <p>Another work is to make Camel reflection free (99%). We now source code generate configurer classes that is capable of configuring and setting properties on all components, data formats, and other areas in Camel. We missed some parts of Rest-DSL and Circuit Breakers which has been implemented for Camel 3.3. See this <a href="http://www.davsclaus.com/2020/03/apache-camel-32-reflection-free.html" rel="nofollow noreferrer">external blog post</a> for more details.</p> <p>Camel core has also been further optimize to do more of its bootstrapping in an earlier phase where possible. This makes Camel faster and ligther on Quarkus and GraalVM. This work will continue in the next release, as there are some Camel components that can be optimized more as well.</p> <p>There is an ongoing experiment for a lightweight CamelContext that is locked-down and immutable which is an effort to make Camel even quicker and faster for Quarkus and GraalVM; where dynamism at runtime is not needed (for example adding new routes).</p> <p>We also did some internal optimizations around creating endpoints and avoid excessive URI parsing and normalization. This makes Camel faster at runtime when using dynamic endpoints.</p> <p>There were also some optimizations in the type converter and inners of Camel that makes Camel quicker and reduced number of methods executed during routing.</p> <p>Configuring Camel via Camel Main (standalone), Quarkus, Spring Boot etc via <code>application.properties</code> now allows to configure using wildcards (*) to configure bulk components. For example to specify AWS credential on all AWS components.</p> <p>The <code>@ProjectInject</code> annotation is now capable of auto creating POJO beans from external configurations and inject into your code. The use-cases are for configurations where you want both external configurations and code; for example <code>MinioConfig</code> as the POJO while setting up a <code>AmazonS3</code> bean instance in the code:</p> <pre><code class="language-java">@BindToRegistry
public static AmazonS3 minioClient(@PropertyInject(&quot;minio&quot;) MinioConfig config) {

    var endpoint = new AwsClientBuilder.EndpointConfiguration(config.getAddress(), &quot;US_EAST_1&quot;);
    var credentials = new BasicAWSCredentials(config.getAccessKey(), config.getSecretKey());
    var credentialsProvider = new AWSStaticCredentialsProvider(credentials);

    return AmazonS3ClientBuilder
        .standard()
        .withEndpointConfiguration(endpoint)
        .withCredentials(credentialsProvider)
        .withPathStyleAccessEnabled(true)
        .build();
}
</code></pre> <p>And <code>minio</code> is a POJO class that is configured with options from <code>application.properties</code>:</p> <pre><code>camel.beans.minio.address = http://my-minio.com
camel.beans.minio.access-key = ...
camel.beans.minio.secret-key = ...
</code></pre> <p>All the components now include all their options that can be configured (incl nested). Before these options was only available when using Camel on Spring Boot. They are now generally available and can therefore be configured everywhere, such as Camel Main, Camel Quarkus, Camel Kafka Connector, and via Component DSL.</p> <p>And we have also done other internal refactorings that allows GraalVM to do more dead-code elimination and can reduce the number of classes loaded. Together with all the other changes we see some use-cases a great reduction in the binary image size after the native compilation. We will continue this work for Camel 3.3.</p> <p>All the AWS components is now completed as a set of components that uses the AWS JDK v2 library.</p> <p>Running Camel on OSGi with Apache Karaf has been moved out to its own sub-project camel-karaf. This has been done for other runtimes as well such as Spring Boot or Quarkus.</p> <p>And then all the usual stuff with 3rd party dependency upgrades, bug fixes, new components, and other improvements.</p> <p>But in this blog we wanted to spill out details about the heavy work that are ongoing to make Camel awesome for today and tomorrows modern Java workloads.</p> <p>PS: And we have also worked on the website, which keeps getting better and better.</p> </div> </div> </article> </main> </div> <div class="footer-tools"> <a title="Improve this document, receive free virtual hugs &hearts;" href="https://github.com/apache/camel-website/edit/master/content/blog/Camel32-Whatsnew/index.md">Edit this Page</a> <a href="#top" title="Reach the top of the page">Back to top</a> </div> <footer> <div class="footer"> <figure class="logo"> <img class="logo" src="../../_/img/logo-d.svg" alt="Apache Camel Logo" aria-label="white silhouette of a camel in front of a sand dune"> </figure> <dl> <dt>Overview</dt> <dd><a href="../../blog/">Blog</a></dd> <dd><a href="../../components/latest/">Components</a></dd> <dd><a href="../../download/">Download</a></dd> <dd><a href="../../manual/latest/getting-started.html">Getting started</a></dd> <dd><a href="../../manual/latest/faq/index.html">FAQ</a></dd> </dl> <dl> <dt>Community</dt> <dd><a href="https://www.apache.org/foundation/policies/conduct">Code of conduct</a> </dd><dd><a href="../../community/support/">Support</a></dd> <dd><a href="../../manual/latest/contributing.html">Contributing</a></dd> <dd><a href="../../community/user-stories/">User stories</a></dd> <dd><a href="../../community/articles/">Articles</a></dd> <dd><a href="../../community/books/">Books</a></dd> <dd><a href="../../community/team/">Team</a></dd> </dl> <dl> <dt>About</dt> <dd><a href="../../acknowledgments/">Acknowledgments</a> </dd><dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/events/current-event.html" title="Apache Events">Apache Events</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/licenses/" title="License">License</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/security/" title="Security">Security</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/sponsorship.html" title="Sponsorship">Sponsorship</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></dd> </dl> <p> &copy; 2004-2020 The <a href="https://apache.org">Apache Software Foundation</a>.<br> Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners. </p> </div> </footer> <script src="../../_/js/vendor/algoliasearch-1c1c4d8ac7.js"></script> <script src="../../_/js/site-50cbbf152a.js"></script> <script async src="../../_/js/vendor/highlight-bcd7ee9b3e.js"></script> <script async src="../../_/js/vendor/svg4everybody-195d47ce7d.js"></script> <script type="application/ld+json"> {
    "@context": "http://schema.org",
    "@type": "Organization",
    "name": "Apache Camel",
    "url": "https:\/\/camel.apache.org\/"
    , "sameAs": ["https://twitter.com/ApacheCamel"]
    , "logo": "https:\/\/camel.apache.org\/_\/img\/logo-d.svg"
    , "description": "Apache Camel â„¢ is a versatile open-source integration framework based on known Enterprise Integration Patterns. Camel empowers you to define routing and mediation rules in a variety of domain-specific languages, including a Java-based Fluent API, Spring or Blueprint XML Configuration files, and a Scala DSL." 
  } </script> <script type="application/ld+json"> {
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position":  1 ,
        "item": {
          "@id": "https://camel.apache.org/",
          "name": "Apache Camel"
        }
    },{
        "@type": "ListItem",
        "position":  2 ,
        "item": {
          "@id": "https://camel.apache.org/blog/",
          "name": "blog"
        }
    },{
        "@type": "ListItem",
        "position":  3 ,
        "item": {
          "@id": "https://camel.apache.org/blog/Camel32-Whatsnew/",
          "name": "Camel32-Whatsnew"
        }
    }]
} </script> </body> </html> 